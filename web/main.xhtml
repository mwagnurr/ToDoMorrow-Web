<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:body>
	<ui:composition template="./WEB-INF/template.xhtml">

		<ui:define name="navigation">
			<ul>
				<li><h:link value="Home" outcome="home" /></li>
			</ul>
		</ui:define>
		<ui:define name="content">
			<div class="main_position">
				<h1>Main-View</h1>

				<h:form id="test">

					<div id="list_top_buttons">
						<ul>

							<li class="left"><p:commandButton icon="add_icon"
									onclick="PF('add_dlg').show()" value="Add Goal"
									action="#{mainControl.openAddGoalDialog}">
								</p:commandButton></li>

							<li class="left"><p:commandButton action="home" ajax="false"
									value="Add Task">
								</p:commandButton></li>
						</ul>
					</div>
				</h:form>

				<p:dialog id="add_goal_dialog" header="Login" widgetVar="add_dlg"
					resizable="false">
					<h:form>
						<h:panelGrid columns="2" cellpadding="5">
							<h:outputText value="Name: " />
							<p:inputText id="goalname" value="#{dialogControl.newGoal.name}"
								required="true" label="#{msg.addgoal_name}">
								<f:validateLength minimum="2" />
								<f:validateRegex pattern="[A-Za-z][A-Za-z0-9]*" />
							</p:inputText>

							<h:outputText value="Deadline: " />
							<p:calendar value="#{dialogControl.deadline}" id="popupCal" />

							<p:commandButton value="Reset" type="reset" />
							<p:commandButton value="#{msg.addgoal_submit}"
								action="#{dialogControl.addGoal(mainControl.loggedInUser)}" 
								update=":content_area:goalTable"/>

						</h:panelGrid>
					</h:form>
				</p:dialog>
				<div class="clear" />
				<h:form id="content_area">
					<div id="list_left_buttons">
						<ul>
							<li><p:commandButton value="Goal List" id="goal_list_button"
									styleClass="main_left_buttons" ajax="false"
									actionListener="#{mainControl.test1}" /></li>
							<li><p:commandButton value="Task List" id="task_list_button"
									styleClass="main_left_buttons" ajax="false"
									actionListener="#{mainControl.test2}" /></li>
							<li><p:commandButton value="Notes" id="note_button"
									styleClass="main_left_buttons" ajax="false"
									actionListener="#{mainControl.test3}" /></li>

						</ul>

					</div>

					<div id="reminder">Reminder: Lorem Ipsum is simply dummy text
						of the printing and typesetting industry. Lorem Ipsum has been the
						industry's standard dummy text ever since the 1500s, when an
						unknown printer took a galley of type and scrambled it to make a
						type specimen book. .</div>


					<h:dataTable id="goalTable" value="#{mainControl.goalList}" var="chr"
						styleClass="goalTable" headerClass="goalTableHeader"
						rowClasses="goalTableOddRow,goalTableEvenRow">
						<h:column>
							<p:commandButton actionListener="#{mainControl.test1}"
								id="iconOnly" icon="ui-icon-disk" title="Icon Only" />
						</h:column>
						<h:column>
							<f:facet name="header">
								Name</f:facet>
							#{chr.name}
						</h:column>
						<h:column>
							<f:facet name="header">
								Description</f:facet>
							#{chr.description}
						</h:column>
						<h:column>
							<f:facet name="header">
								Deadline</f:facet>
							#{chr.deadline}
						</h:column>
						<h:column>
							<f:facet name="header">
								Score</f:facet>
							#{chr.score}
						</h:column>

					</h:dataTable>


					<div class="clear" />
					<div id="calendar">
						<p:calendar value="#{mainControl.date}" mode="inline"
							styleClass="calendar" />
					</div>
					<div class="clear" />

				</h:form>

			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>